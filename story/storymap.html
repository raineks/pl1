<!DOCTYPE html>
<html>
  <head>
    <title>South England Historic Sites</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <!-- <link rel="stylesheet" type="text/css" href="./style.css" /> -->
    <style>
        #map {
        height: 100%;
        }

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
        height: 100%;
        margin: 0;
        padding: 0;
        }

        #maptitle {
        position: absolute;
        top: 50px;
        left: 70px;
        z-index: 5;
        background-color: rgba(137, 151, 150, 0.6);
        border-radius: 8px;
        padding: 10px 10px 10px 10px;
        }
        #words {
        position: absolute;
        top: 100px;
        left: 50px;
        z-index: 5;
        background-color: rgba(137, 151, 150, 0.6);
        border-radius: 8px;
        padding: 10px 10px 10px 10px;
        }

    </style>
    <script>
        let map;
        // map funciton
        function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
            center: { lat: 51.128, lng: -1.241 },
            zoom: 9,
            // mapTypeId: 'satellite', 
            mapTypeId: 'terrain',
        });

        // start historic site makers 
        const BCmarker = new google.maps.Marker({
        position: { lat: 51.002, lng: 0.543 },
        map,
        // icon: 'https://drive.google.com/file/d/1J-U4iDaItlfBDn7repbpyoCmaKFtGFA2/view?usp=sharing', these icons did not work, perfect for what i wanted but could not make it function :(
        title: "Bodium Castle",
        });
        const BGmarker = new google.maps.Marker({
        position: { lat: 50.744, lng: 0.204 },
        map,
        title: "Birling Gap",
        });
        // const BPPmarker = new google.maps.Marker({
        // position: { lat: 50.817, lng: -0.136 },
        // map,
        // title: "Brighton Palace Pier",
        // });          this was part of our route but it made sense to stick with just the heritage sites
        const ACmarker = new google.maps.Marker({
        position: { lat: 50.856, lng: -0.553 },
        map,
        title: "Arundel Castle",
        });
        const GTORmarker = new google.maps.Marker({
        position: { lat: 51.145, lng: -2.698 },
        map,
        title: "Glastonbury Tor",
        });
        const CCmarker = new google.maps.Marker({
        position: { lat: 50.640, lng: -2.058 },
        map,
        title: "Corfe Castle",
        });
        const MHmarker = new google.maps.Marker({
        position: { lat: 50.953, lng: -2.713 },
        map,
        title: "Montacute House",
        });
        // end of markers
        // begingin of polyline route, pasing through each of the historic sites
        // const route = [
        // { lat: 51.002, lng: 0.543 },
        // { lat: 50.744, lng: 0.204 },
        // { lat: 50.856, lng: -0.553 },
        // { lat: 50.640, lng: -2.058 },
        // { lat: 50.953, lng: -2.713 },
        // { lat: 51.145, lng: -2.698 },
        // ];
        // const siteroute = new google.maps.Polyline({
        //     path: route,
        //     geodesic: true,
        //     strokeColor: '#eb4034',
        //     strokeOpacity: 1.0,
        //     strokeWeight: 3,
        // });
        // siteroute.setMap(map);
        // end of polyline
        // arrow line start
        const lineSymbol = {
            path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
            strokeColor: "red",
        };

        const BCBGline = new google.maps.Polyline({
            path: [
            { lat: 51.002, lng: 0.543 },
            { lat: 50.744, lng: 0.204 },
            ],
            strokeColor: "red",
            icons: [
            {
                icon: lineSymbol,
                offset: "100%",     
                // offset 100% places arrow at the end of the line
            },
            ],
            map: map,
        });
        const BGACline = new google.maps.Polyline({
            path: [
            { lat: 50.744, lng: 0.204 },
            { lat: 50.856, lng: -0.553 },
            ],
            strokeColor: "red",
            icons: [
            {
                icon: lineSymbol,
                offset: "100%",     
                // offset 100% places arrow at the end of the line
            },
            ],
            map: map,
        });    
        const ACCCline = new google.maps.Polyline({
            path: [
            { lat: 50.856, lng: -0.553 },
            { lat: 50.640, lng: -2.058 },
            ],
            strokeColor: "red",
            icons: [
            {
                icon: lineSymbol,
                offset: "100%",     
                // offset 100% places arrow at the end of the line
            },
            ],
            map: map,
        });  
        const CCMCline = new google.maps.Polyline({
            path: [
            { lat: 50.640, lng: -2.058 },
            { lat: 50.953, lng: -2.713 },
            ],
            strokeColor: "red",
            icons: [
            {
                icon: lineSymbol,
                offset: "100%",     
                // offset 100% places arrow at the end of the line
            },
            ],
            map: map,
        }); 
        const MCGTORline = new google.maps.Polyline({
            path: [
            { lat: 50.953, lng: -2.713 },
            { lat: 51.145, lng: -2.698 },
            ],
            strokeColor: "red",
            icons: [
            {
                icon: lineSymbol,
                offset: "100%",     
                // offset 100% places arrow at the end of the line
            },
            ],
            map: map,
        });  
        // end of arrow line 
        // start of info windows
        const BCcontentString =
            '<div id="content">' +
            '<div id="siteNotice">' +
            "</div>" +
            '<h1 id="firstHeading" class="firstHeading">Bodium Castle</h1>' +
            '<div id="bodyContent">' +
            "<p><b>Bodium Castle</b>, words words words come back and change this later" +
            "</div>" +
            "</div>";

        const BCinfowindow = new google.maps.InfoWindow({
            content: BCcontentString,
        });

        BCmarker.addListener("click", () => {
            BCinfowindow.open({
            anchor: BCmarker,
            map,
            shouldFocus: false,
            });
        });  

        const BGcontentString =
            '<div id="content">' +
            '<div id="siteNotice">' +
            "</div>" +
            '<h1 id="firstHeading" class="firstHeading">Birling Gap</h1>' +
            '<div id="bodyContent">' +
            "<p><b>Bodium Castle</b>, words words words come back and change this later" +
            "</div>" +
            "</div>";

        const BGinfowindow = new google.maps.InfoWindow({
            content: BGcontentString,
        });

        BGmarker.addListener("click", () => {
            BGinfowindow.open({
            anchor: BGmarker,
            map,
            shouldFocus: false,
            });
        }); 

        const ACcontentString =
            '<div id="content">' +
            '<div id="siteNotice">' +
            "</div>" +
            '<h1 id="firstHeading" class="firstHeading">Arundel Castle</h1>' +
            '<div id="bodyContent">' +
            "<p><b>Bodium Castle</b>, words words words come back and change this later" +
            "</div>" +
            "</div>";

        const ACinfowindow = new google.maps.InfoWindow({
            content: ACcontentString,
        });

        ACmarker.addListener("click", () => {
            ACinfowindow.open({
            anchor: ACmarker,
            map,
            shouldFocus: false,
            });
        }); 
        const CCcontentString =
            '<div id="content">' +
            '<div id="siteNotice">' +
            "</div>" +
            '<h1 id="firstHeading" class="firstHeading">Corfe Castle</h1>' +
            '<div id="bodyContent">' +
            "<p><b>Bodium Castle</b>, words words words come back and change this later" +
            "</div>" +
            "</div>";

        const CCinfowindow = new google.maps.InfoWindow({
            content: CCcontentString,
        });

        CCmarker.addListener("click", () => {
            CCinfowindow.open({
            anchor: CCmarker,
            map,
            shouldFocus: false,
            });
        }); 
        const GTORcontentString =
            '<div id="content">' +
            '<div id="siteNotice">' +
            "</div>" +
            '<h1 id="firstHeading" class="firstHeading">Glastonbury Tor</h1>' +
            '<div id="bodyContent">' +
            "<p><b>Bodium Castle</b>, words words words come back and change this later" +
            "</div>" +
            "</div>";

        const GTORinfowindow = new google.maps.InfoWindow({
            content: GTORcontentString,
        });

        GTORmarker.addListener("click", () => {
            GTORinfowindow.open({
            anchor: GTORmarker,
            map,
            shouldFocus: false,
            });
        });
        const MHcontentString =
            '<div id="content">' +
            '<div id="siteNotice">' +
            "</div>" +
            '<h1 id="firstHeading" class="firstHeading">Montacute House</h1>' +
            '<div id="bodyContent">' +
            "<p><b>Bodium Castle</b>, words words words come back and change this later" +
            "</div>" +
            "</div>";

        const MHinfowindow = new google.maps.InfoWindow({
            content: MHcontentString,
        });

        MHmarker.addListener("click", () => {
            MHinfowindow.open({
            anchor: MHmarker,
            map,
            shouldFocus: false,
            });
        });  
    }

    </script>
  </head>
  <body>
    <div id="maptitle"> <h1>South England Historic Site Road Trip</h1></div> 
    <div id="words">
        <p>This map shows the route of the last time I visited my family in England, my mum and I started at our families caravan east of Eastborne, stopping at National Trust and English Heratige Sites along our way to my grandparents home in Yeovil.</p>
        <p>Click on each of the sites to learn a little about these historic places! </p>
    </div>
    <div id="map"></div>

    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCM-WWHYHIKY-do4kquMy9Z4wQaQx51AuE&callback=initMap&v=weekly"
      async
    ></script>
  </body>
</html>